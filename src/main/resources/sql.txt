create table users(
	id bigserial,
	username varchar(30) not null,
	password varchar(80),
	email varchar(50) UNIQUE,
	primary key (id)
);

create table roles (
	id serial,
	name varchar(50) not null,
	primary key(id)
);

create table users_roles (
	user_id bigint not null,
	role_id int not null,
	primary key(user_id, role_id),
	foreign key (user_id) references users (id),
	foreign key (role_id) references roles (id)
);

insert into roles (name) values
	('ROLE_USER') , ('ROLE_AUTHOR');

insert into users (username, password, email) values
	('user', '$2y$12$fTpQ0qKXEA8JRNrDLwot6Ooy9Q5egCc4iYdUz2NPHySFBtNsjsOTS', 'user@gmail.com');

insert into users_roles (user_id, role_id) values
	(1, 2);

create table books_user(
    user_id bigint not null references users,
    book_id bigint not null references book,
    primary key(user_id, book_id)
);

INSERT INTO books_user(
	user_id, book_id)
	VALUES (1, 1);

<----------subscriptions---------->
create table subscriptions(
    sub_id int,
    end_date TIMESTAMP not null,
	primary key(id)
);

create table users_subscriptions (
	user_id bigint not null,
	subscription_id int not null,
	primary key(user_id, subscription_id),
	foreign key (user_id) references users (id),
	foreign key (subscription_id) references subscriptions (id)
);

insert into subscriptions (sub_id, end_date) values
	('1', '2020-12-28 05:02:00');
<----------subscriptions---------->

